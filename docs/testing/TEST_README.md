# Tattoo Journey 2.0 Mobile App - ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¬ã‚¤ãƒ‰

## æ¦‚è¦

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Tattoo Journey 2.0 Mobile Appã®åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚·ã‚¹ãƒ†ãƒ ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

## ãƒ†ã‚¹ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ãƒ†ã‚¹ãƒˆã®ç¨®é¡

1. **Firebaseæ¥ç¶šãƒ†ã‚¹ãƒˆ** - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã€èªè¨¼æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
2. **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ** - AIè§£æã€ãƒãƒƒãƒãƒ³ã‚°ã€äºˆç´„ã€ãƒãƒ£ãƒƒãƒˆã€ãƒ¬ãƒ“ãƒ¥ãƒ¼ãªã©ã®æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
3. **ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ** - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã®çµ±åˆãƒ†ã‚¹ãƒˆ
4. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒ†ã‚¹ãƒˆ** - å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Œå…¨ãªå†ç¾ãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿

- **ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼**: `src/test-data/testUsers.ts`
  - ãŠå®¢æ§˜: ç”°ä¸­å¤ªéƒ (test-customer-001)
  - ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆ: éˆ´æœ¨ç¾å’² (test-artist-001)
  - ãã®ä»–ç«¶åˆã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆ

- **ãƒ¢ãƒƒã‚¯AIãƒ¬ã‚¹ãƒãƒ³ã‚¹**: `src/test-data/mockAIResponses.ts`
  - Google Vision API ã®ãƒ¢ãƒƒã‚¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹
  - å„ã‚¿ãƒˆã‚¥ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ã®æœŸå¾…ã•ã‚Œã‚‹è§£æçµæœ

## ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ–¹æ³•

### 1. å€‹åˆ¥ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
# Firebaseæ¥ç¶šãƒ†ã‚¹ãƒˆ
npm run test:firebase

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
npm run test:e2e

# ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒ†ã‚¹ãƒˆ
npm run test:journey
```

### 2. å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
# å…¨ã¦ã®ãƒ†ã‚¹ãƒˆã‚’é †æ¬¡å®Ÿè¡Œ
npm run test:all
```

### 3. Jestå˜ä½“ãƒ†ã‚¹ãƒˆ

```bash
# é€šå¸¸ã®Jestãƒ†ã‚¹ãƒˆ
npm run test
```

## ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
mobile/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ test-data/
â”‚   â”‚   â”œâ”€â”€ testUsers.ts           # ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿
â”‚   â”‚   â””â”€â”€ mockAIResponses.ts     # ãƒ¢ãƒƒã‚¯AIãƒ¬ã‚¹ãƒãƒ³ã‚¹
â”‚   â”œâ”€â”€ test-utils/
â”‚   â”‚   â”œâ”€â”€ TestRunner.ts          # ãƒ¡ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼
â”‚   â”‚   â””â”€â”€ FirebaseTestUtils.ts   # Firebaseæ¥ç¶šãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â””â”€â”€ services/
â”‚       â””â”€â”€ CrashlyticsService.ts  # ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒãƒ¼ãƒ†ã‚£ãƒ³ã‚°
â”œâ”€â”€ test-execution/
â”‚   â”œâ”€â”€ runFirebaseTests.js        # Firebaseæ¥ç¶šãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ runEndToEndTests.js        # ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ userJourneyTest.js         # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ testResults.json          # ãƒ†ã‚¹ãƒˆçµæœè¨˜éŒ²
â””â”€â”€ TEST_README.md                # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

## ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªè©³ç´°

### 1. Firebaseæ¥ç¶šãƒ†ã‚¹ãƒˆ

**å¯¾è±¡ã‚µãƒ¼ãƒ“ã‚¹:**

- Firestoreï¼ˆCRUDæ“ä½œã€ã‚¯ã‚¨ãƒªï¼‰
- Realtime Databaseï¼ˆèª­ã¿æ›¸ãã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒªã‚¹ãƒŠãƒ¼ï¼‰
- Storageï¼ˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼‰
- Authenticationï¼ˆåŒ¿åèªè¨¼ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼çŠ¶æ…‹ç®¡ç†ï¼‰

**ãƒ†ã‚¹ãƒˆå†…å®¹:**

- å„ã‚µãƒ¼ãƒ“ã‚¹ã®æ¥ç¶šç¢ºèª
- CRUDæ“ä½œã®å‹•ä½œç¢ºèª
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ç¢ºèª

### 2. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ

**ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ:**

#### AIç”»åƒè§£æãƒ†ã‚¹ãƒˆ

- ãƒŸãƒ‹ãƒãƒ«ãƒ»ãƒ©ã‚¤ãƒ³è§£æ
- å’Œå½«ã‚Šï¼ˆæ¡œï¼‰è§£æ
- ãƒ¬ã‚¿ãƒªãƒ³ã‚°ãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆè§£æ

#### ãƒãƒƒãƒãƒ³ã‚°æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ

- åŸºæœ¬ãƒãƒƒãƒãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
- è·é›¢ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆæœ€å¤§20kmï¼‰
- ä¾¡æ ¼ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆäºˆç®—å†…ï¼‰

#### äºˆç´„ãƒ•ãƒ­ãƒ¼ãƒ†ã‚¹ãƒˆ

- äºˆç´„ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ
- ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆã«ã‚ˆã‚‹äºˆç´„ç¢ºèª

#### ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ

- ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ä½œæˆ
- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€å—ä¿¡

#### ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ

- ãƒ¬ãƒ“ãƒ¥ãƒ¼æŠ•ç¨¿
- ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆãƒ¬ãƒ“ãƒ¥ãƒ¼å–å¾—

#### ä½ç½®æƒ…å ±æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ

- ç¾åœ¨ä½ç½®å–å¾—
- ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆã¨ã®è·é›¢è¨ˆç®—

### 3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒ†ã‚¹ãƒˆ

**å®Œå…¨ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼:**

1. **ãŠå®¢æ§˜ç™»éŒ²**: ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆã¨ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¨­å®š
2. **ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**: å‚è€ƒç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—AIè§£æå®Ÿè¡Œ
3. **ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆæ¤œç´¢**: AIè§£æçµæœã«åŸºã¥ããƒãƒƒãƒãƒ³ã‚°å®Ÿè¡Œ
4. **ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆé¸æŠ**: ãƒãƒƒãƒåº¦ã®é«˜ã„ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆã‚’é¸æŠ
5. **äºˆç´„ä½œæˆ**: å¸Œæœ›æ—¥æ™‚ã§ã®äºˆç´„ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ
6. **ãƒãƒ£ãƒƒãƒˆé–‹å§‹**: ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆã¨ã®è©³ç´°ç›¸è«‡
7. **äºˆç´„ç¢ºå®š**: ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆã«ã‚ˆã‚‹äºˆç´„æ‰¿èª
8. **ã‚µãƒ¼ãƒ“ã‚¹å®Œäº†**: ã‚¿ãƒˆã‚¥ãƒ¼æ–½è¡“å®Œäº†ã®æ¨¡æ“¬
9. **ãƒ¬ãƒ“ãƒ¥ãƒ¼æŠ•ç¨¿**: 5æ®µéšè©•ä¾¡ã¨ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿

## ãƒ†ã‚¹ãƒˆçµæœã®ç¢ºèª

### ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›

å„ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«è©³ç´°ãªé€²æ—ã¨ãƒ†ã‚¹ãƒˆçµæœãŒã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¡¨ç¤ºã•ã‚Œã¾ã™ï¼š

```
ğŸ§ª ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆé–‹å§‹
================================

ğŸ“‹ Phase 1: Firebaseæ¥ç¶šã¨ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–ãƒ†ã‚¹ãƒˆ
-----------------------------------------------
ğŸ”¥ Firebase Test Results
Total Tests: 20
Passed: 19
Failed: 1
Success Rate: 95.0%
...
```

### ãƒ†ã‚¹ãƒˆçµæœãƒ•ã‚¡ã‚¤ãƒ«

`test-execution/testResults.json`ã«è©³ç´°ãªãƒ†ã‚¹ãƒˆçµæœãŒè¨˜éŒ²ã•ã‚Œã¾ã™ã€‚

## ç’°å¢ƒè¦ä»¶

### é–‹ç™ºç’°å¢ƒ

- Node.js >= 18
- React Native 0.81.0
- Firebase SDK 23.1.2
- TypeScript 5.8.3

### Firebaseè¨­å®š

- Firebase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
- Firestore Database
- Realtime Database
- Storage
- Authentication

### å¿…è¦ãªæ¨©é™

- ä½ç½®æƒ…å ±ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™
- ã‚«ãƒ¡ãƒ©/ç”»åƒãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¢ã‚¯ã‚»ã‚¹æ¨©é™
- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶š

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

1. **Firebaseæ¥ç¶šã‚¨ãƒ©ãƒ¼**
   - `google-services.json` (Android) / `GoogleService-Info.plist` (iOS)ã®é…ç½®ç¢ºèª
   - Firebase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šã®ç¢ºèª

2. **ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚‰ãªã„**
   - `npm run test:firebase`ã§ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®æŠ•å…¥ç¢ºèª

3. **æ¨©é™ã‚¨ãƒ©ãƒ¼**
   - ä½ç½®æƒ…å ±ã€ã‚«ãƒ¡ãƒ©ã®æ¨©é™è¨­å®šç¢ºèª

### ãƒ­ã‚°ç¢ºèª

è©³ç´°ãªã‚¨ãƒ©ãƒ¼æƒ…å ±ã¯ä»¥ä¸‹ã§ç¢ºèªã§ãã¾ã™ï¼š

- React Native ãƒ‡ãƒãƒƒã‚¬ãƒ¼
- Firebase Console
- CrashlyticsService ã«ã‚ˆã‚‹ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ãƒ¬ãƒãƒ¼ãƒˆ

## ç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ (CI)

### GitHub Actions (æ¨å¥¨è¨­å®š)

```yaml
name: E2E Tests
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v2
        with:
          node-version: "18"
      - run: npm install
      - run: npm run test:all
```

## æˆåŠŸåŸºæº–

### åˆæ ¼åŸºæº–

- Firebaseæ¥ç¶šãƒ†ã‚¹ãƒˆ: æˆåŠŸç‡ 95% ä»¥ä¸Š
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ: å…¨ãƒ†ã‚¹ãƒˆåˆæ ¼
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒ†ã‚¹ãƒˆ: å…¨ã‚¹ãƒ†ãƒƒãƒ—å®Œäº†

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŸºæº–

- AIç”»åƒè§£æ: 5ç§’ä»¥å†…
- ãƒãƒƒãƒãƒ³ã‚°å‡¦ç†: 3ç§’ä»¥å†…
- Firebaseæ“ä½œ: 2ç§’ä»¥å†…

## æ›´æ–°å±¥æ­´

- v2.0.0: åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…
- ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã€ãƒ¢ãƒƒã‚¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã€Firebaseæ¥ç¶šãƒ†ã‚¹ãƒˆè¿½åŠ 
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒ†ã‚¹ãƒˆå®Œå…¨å®Ÿè£…
- CrashlyticsService ã«ã‚ˆã‚‹ã‚¨ãƒ©ãƒ¼è¿½è·¡æ©Ÿèƒ½è¿½åŠ 
