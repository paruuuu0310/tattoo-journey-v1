#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸš€ Running pre-push checks..."

# TypeScript check
echo "ğŸ“ Checking TypeScript..."
if ! npm run type-check; then
  echo "âŒ TypeScript check failed!"
  afplay /System/Library/Sounds/Sosumi.aiff &
  exit 1
fi

# Linting check
echo "ğŸ” Running linter..."
if ! npm run lint; then
  echo "âŒ Linting failed!"
  afplay /System/Library/Sounds/Sosumi.aiff &
  exit 1
fi

# Build check
echo "ğŸ—ï¸ Building project..."
if ! npm run build:silent; then
  echo "âŒ Build failed!"
  afplay /System/Library/Sounds/Sosumi.aiff &
  exit 1
fi

echo "âœ… All pre-push checks passed!"
afplay /System/Library/Sounds/Hero.aiff &